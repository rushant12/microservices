 String keyVaultUrl = "https://nsn-dev-ecm-kva-001.vault.azure.net/secrets/";

        SecretClient secretClient = new SecretClientBuilder()
                .vaultUrl(keyVaultUrl)
                .credential(new DefaultAzureCredentialBuilder().build())
                .buildClient();

        System.out.println("Listing secrets from Key Vault:");
        for (SecretProperties secretProperties : secretClient.listPropertiesOfSecrets()) {
            try {
                KeyVaultSecret secret = secretClient.getSecret(secretProperties.getName());
                System.out.printf("Secret name: %s%nSecret value: %s%n%n", secret.getName(), secret.getValue());
            } catch (Exception e) {
                System.out.printf("Could not fetch value for secret: %s (maybe it's disabled or deleted)%n", secretProperties.getName());
            }
        }
    }
